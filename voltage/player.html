<!DOCTYPE html>
<html>
  <head>
    <title>Voltage | Player</title>
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    <style>
         * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #233D4C; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0;}

        #game-container {
            width: min(100vw, 133.33vh); /* 4:3 ratio */
            height: min(100vh, 75vw);
         }


        #start-btn {
            background-color: #FD803E;
            color: #233D4C;
            font-family: Arial, sans-serif;
            border: 5px solid #233D4C;
            border-radius: 20px;
            padding: 12px 24px;
            min-width: 300px;
            min-height: 50px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(16px, 2vw, 20px);
            white-space: nowrap; 
            cursor: pointer;
        }

        .logo {
            border-radius: 40px;
            justify-self: left;
            margin: 10px;
        }

    </style>
    <link rel="shortcut icon" type="image/x-icon" href="images/logo1.png" />
  </head>
  <body>
    <button id="start-btn"><img src="images/logo1.png" alt="Voltage Logo, cut out of the letter V in a circle." height="80px" width="auto" class="logo">Click to Start</button>
    <div id="game-container"></div>
    <script>
      const params = new URLSearchParams(window.location.search);
      const swf = params.get("file");

      if (!swf || swf.startsWith("http://") || swf.startsWith("https://")) {
        document.body.innerHTML = "<p style='color:white'>Invalid or missing file.</p>";
      } else {
        document.getElementById("start-btn").addEventListener("click", () => {
          document.getElementById("start-btn").remove();
          const ruffle = window.RufflePlayer.newest();
          const player = ruffle.createPlayer();
          player.style.width = "100%";
          player.style.height = "100%";
          document.getElementById("game-container").appendChild(player);
          player.load(swf);
        });
      }
    </script>
  </body>
</html>